{"version":3,"sources":["images/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","utils/api.js","utils/utils.js","components/App.js","index.js"],"names":["Header","className","src","header__logo","alt","CurrentUserContext","React","createContext","Card","card","onClickCard","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","onClick","type","aria-label","length","Main","cards","editAvatar","editProfile","addPlace","style","backgroundImage","avatar","about","map","Footer","PopupWithForm","title","buttonSubmitText","loadingButtonSubmitText","isLoadingData","children","isOpen","onClose","onSubmit","isFormValid","noValidate","disabled","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","inputValidName","setInputValidName","inputValidDescription","setInputValidDescription","nameValidationMessage","setNameValidationMessage","descriptionValidationMessage","setDescriptionValidationMessage","setFormValid","useEffect","evt","preventDefault","contentLabel","placeholder","required","minLength","maxLength","value","onChange","target","validity","valid","validationMessage","EditAvatarPopup","onUpdateAvatar","setLink","isValidationMessage","setIsValidationMessage","AddPlacePopup","onAddPlace","place","setPlace","placeValidationMessage","setPlaceValidationMessage","linkValidationMessage","setLinkValidationMessage","placeInputInitial","setPlaceInputInitial","linkInputInitial","setLinkInputInitial","DeleteCardPopup","onSubmitDelete","ImagePopup","api","idCohort","token","urlServer","this","_idCohort","_token","_urlServer","res","ok","json","Promise","reject","status","all","getUserInfo","getCards","fetch","headers","authorization","then","_checkResponse","user","method","body","JSON","stringify","isLikedStatus","App","setCurrentUser","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","setCards","selectedCard","setSelectedCard","cardForDelete","setCardForDelete","isLoadingSetUserInfo","setIsLoadingSetUserInfo","isLoadingAvatarUpdate","setIsLoadingAvatarUpdate","isLoadingAddPlaceSubmit","setIsLoadingAddPlaceSubmit","isLoadingDeleteCard","setIsLoadingDeleteCard","closeAllPopups","getInitialData","userData","cardsData","catch","err","console","log","handleEscapeClick","key","document","addEventListener","removeEventListener","Provider","changeLike","newCard","currentCard","setUserInfo","finally","postCard","setUserAvatar","deleteCard","filter","cardDelete","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d6cb9aff.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.1f1e9591.svg\";","import header__logo from \"../images/header__logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header page__container\">\n      <img className=\"header__logo\" src={header__logo} alt=\"Логотип\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onClickCard, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  const cardDeleteButtonClassName = `elements__button-remove ${\n    isOwn ? \"elements__button-remove_visible\" : \"elements__button-remove_hidden\"\n  }`;\n\n  const cardLikeButtonClassName = isLiked\n    ? \"elements__button-like elements__button-like_active\"\n    : \"elements__button-like\";\n\n  function handleClick() {\n    onClickCard(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <div className=\"elements__item\">\n      <img\n        className=\"elements__image\"\n        src={`${card.link}`}\n        alt={`${card.name}`}\n        onClick={handleClick}\n      />\n      <button\n        type=\"button\"\n        aria-label=\"Удалить\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      ></button>\n      <div className=\"elements__description\">\n        <h2 className=\"elements__name\">{card.name}</h2>\n        <div className=\"elements__like-container\">\n          <button\n            type=\"button\"\n            aria-label=\"Нравится\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          ></button>\n          <div className=\"elements__like-counter\">{card.likes.length}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  cards,\n  editAvatar,\n  editProfile,\n  addPlace,\n  onClickCard,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile page__container\">\n        <div\n          className=\"profile__avatar\"\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={editAvatar}\n        ></div>\n        <div className=\"profile__info\">\n          <div className=\"profile__description\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              aria-label=\"Редактировать\"\n              className=\"profile__button-edit\"\n              onClick={editProfile}\n            ></button>\n          </div>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          aria-label=\"Добавить\"\n          className=\"profile__button-add-image\"\n          onClick={addPlace}\n        >\n          {\" \"}\n        </button>\n      </section>\n\n      <section className=\"elements\">\n        {cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onClickCard={onClickCard}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer page__container\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  title,\n  name,\n  buttonSubmitText,\n  loadingButtonSubmitText,\n  isLoadingData,\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n  isFormValid,\n}) {\n  return (\n    <div className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container popup__container_form\">\n        <h2 className=\"popup__title\">{title}</h2>\n        <button\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          className=\"popup__button-close\"\n          onClick={onClose}\n        ></button>\n        <form\n          className=\"popup__form\"\n          name={name}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          {children}\n          <button\n            type=\"submit\"\n            className={`popup__button-save ${\n              !isFormValid ? \"popup__button-save_inactive\" : \"\"\n            }`}\n            disabled={!isFormValid}\n          >\n            {isLoadingData ? loadingButtonSubmitText : buttonSubmitText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoadingData }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = useState(\"Name\");\n  const [description, setDescription] = useState(\"About\");\n\n  const [inputValidName, setInputValidName] = useState(true);\n  const [inputValidDescription, setInputValidDescription] = useState(true);\n  const [nameValidationMessage, setNameValidationMessage] = useState(\"\");\n  const [descriptionValidationMessage, setDescriptionValidationMessage] =\n    useState(\"\");\n  const [isFormValid, setFormValid] = useState(false);\n\n  useEffect(() => {\n    if (currentUser.name && currentUser.about) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n    setInputValidName(true);\n    setInputValidDescription(true);\n  }, [currentUser, isOpen]);\n\n  function handleName(evt) {\n    setName(evt.target.value);\n    setInputValidName(evt.target.validity.valid);\n    setNameValidationMessage(evt.target.validationMessage);\n  }\n\n  function handleDescription(evt) {\n    setDescription(evt.target.value);\n    setInputValidDescription(evt.target.validity.valid);\n    setDescriptionValidationMessage(evt.target.validationMessage);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  useEffect(() => {\n    if (inputValidName && inputValidDescription) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [inputValidName, inputValidDescription]);\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"user\"\n      buttonSubmitText=\"Сохранить\"\n      isFormValid={isFormValid}\n      loadingButtonSubmitText=\"Загрузка...\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      contentLabel=\"Форма редактирования имени пользователя\"\n      isLoadingData={isLoadingData}\n    >\n      <fieldset className=\"popup__fieldset\">\n        <label className=\"popup__label\">\n          <input\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Имя\"\n            className={`popup__input ${\n              !inputValidName ? \"popup__input_type_error\" : \"\"\n            }`}\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            value={name}\n            onChange={handleName}\n          />\n          <span\n            className={`popup__input-error ${\n              !inputValidName ? \"popup__input-error_active\" : \"\"\n            }`}\n          >\n            {nameValidationMessage}\n          </span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            type=\"text\"\n            name=\"about\"\n            placeholder=\"Что-то о себе\"\n            className={`popup__input ${\n              !inputValidDescription ? \"popup__input_type_error\" : \"\"\n            }`}\n            required\n            minLength=\"2\"\n            maxLength=\"200\"\n            value={description}\n            onChange={handleDescription}\n          />\n          <span\n            className={`popup__input-error ${\n              !inputValidDescription ? \"popup__input-error_active\" : \"\"\n            }`}\n          >\n            {descriptionValidationMessage}\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoadingData }) {\n  const [link, setLink] = useState(\"\");\n  const [isFormValid, setFormValid] = useState(false);\n  const [isValidationMessage, setIsValidationMessage] = useState(\"\");\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({ avatar: link });\n  }\n\n  function handleChange(evt) {\n    setLink(evt.target.value);\n    setIsValidationMessage(evt.target.validationMessage);\n  }\n\n  useEffect(() => {\n    setFormValid(false);\n    setLink(\"\");\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (!isValidationMessage) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [isValidationMessage, link]);\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      buttonSubmitText=\"Сохранить\"\n      loadingButtonSubmitText=\"Сохранение...\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      contentLabel=\"Форма редактирования аватара пользователя\"\n      isLoadingData={isLoadingData}\n      isFormValid={isFormValid}\n    >\n      <fieldset className=\"popup__fieldset\">\n        <label className=\"popup__label\">\n          <input\n            type=\"url\"\n            name=\"link\"\n            aria-label=\"Cсылка на изображение\"\n            placeholder=\"Cсылка на изображение\"\n            className={`popup__input ${\n              isValidationMessage ? \"popup__input_type_error\" : \"\"\n            }`}\n            required\n            value={link}\n            onChange={handleChange}\n          />\n          <span\n            className={`popup__input-error ${\n              isValidationMessage ? \"popup__input-error_active\" : \"\"\n            }`}\n          >\n            {isValidationMessage}\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoadingData }) {\n  const [place, setPlace] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  const [placeValidationMessage, setPlaceValidationMessage] = useState(\"\");\n  const [linkValidationMessage, setLinkValidationMessage] = useState(\"\");\n  const [isFormValid, setFormValid] = useState(false);\n  const [placeInputInitial, setPlaceInputInitial] = useState(true);\n  const [linkInputInitial, setLinkInputInitial] = useState(true);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({ name: place, link });\n  }\n\n  function handlePlace(evt) {\n    setPlace(evt.target.value);\n    setPlaceInputInitial(false);\n    setPlaceValidationMessage(evt.target.validationMessage);\n  }\n\n  function handleLink(evt) {\n    setLink(evt.target.value);\n    setLinkInputInitial(false);\n    setLinkValidationMessage(evt.target.validationMessage);\n  }\n\n  useEffect(() => {\n    setPlace(\"\");\n    setLink(\"\");\n    setFormValid(false);\n    setPlaceInputInitial(true);\n    setLinkInputInitial(true);\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (\n      !placeValidationMessage &&\n      !linkValidationMessage &&\n      !placeInputInitial &&\n      !linkInputInitial\n    ) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [\n    placeInputInitial,\n    linkInputInitial,\n    placeValidationMessage,\n    linkValidationMessage,\n    place,\n    link,\n  ]);\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"place\"\n      buttonSubmitText=\"Создать\"\n      loadingButtonSubmitText=\"Сохранение...\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      contentLabel=\"Форма добавления изображения\"\n      isLoadingData={isLoadingData}\n      isFormValid={isFormValid}\n    >\n      <fieldset className=\"popup__fieldset\">\n        <label className=\"popup__label\">\n          <input\n            type=\"text\"\n            name=\"place\"\n            placeholder=\"Название\"\n            className={`popup__input ${\n              placeValidationMessage ? \"popup__input_type_error\" : \"\"\n            }`}\n            required\n            minLength=\"2\"\n            maxLength=\"30\"\n            value={place}\n            onChange={handlePlace}\n          />\n          <span\n            className={`popup__input-error ${\n              placeValidationMessage ? \"popup__input-error_active\" : \"\"\n            }`}\n          >\n            {placeValidationMessage}\n          </span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            type=\"url\"\n            name=\"link\"\n            placeholder=\"Ссылка на картинку\"\n            className={`popup__input ${\n              linkValidationMessage ? \"popup__input_type_error\" : \"\"\n            }`}\n            required\n            value={link}\n            onChange={handleLink}\n          />\n          <span\n            className={`popup__input-error ${\n              linkValidationMessage ? \"popup__input-error_active\" : \"\"\n            }`}\n          >\n            {linkValidationMessage}\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction DeleteCardPopup({\n  isOpen,\n  onClose,\n  card,\n  onSubmitDelete,\n  isLoadingData,\n}) {\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onSubmitDelete(card);\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      name=\"remove\"\n      buttonSubmitText=\"Да\"\n      loadingButtonSubmitText=\"Удаление...\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoadingData={isLoadingData}\n      isFormValid=\"true\"\n    ></PopupWithForm>\n  );\n}\n\nexport default DeleteCardPopup;\n","function ImagePopup({ card, onClose }) {\n  return (\n    <div\n      className={`popup popup_type_image ${card.link ? \"popup_opened\" : \"\"}`}\n    >\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          className=\"popup__button-close\"\n          onClick={onClose}\n        ></button>\n        <figure className=\"popup__figure\">\n          <img\n            className=\"popup__photo\"\n            src={`${card.link}`}\n            alt={`${card.name}`}\n          />\n          <div className=\"popup__caption\">{card.name}</div>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import { settingsApi } from \"./utils.js\";\nclass Api {\n  constructor({ idCohort, token, urlServer }) {\n    this._idCohort = idCohort;\n    this._token = token;\n    this._urlServer = urlServer;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n  }\n\n  getInitialData() {\n    return Promise.all([this.getUserInfo(), this.getCards()]);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._urlServer}/${this._idCohort}/users/me`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkResponse);\n  }\n\n  getCards() {\n    return fetch(`${this._urlServer}/${this._idCohort}/cards`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkResponse);\n  }\n\n  setUserInfo(user) {\n    return fetch(`${this._urlServer}/${this._idCohort}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: user.name,\n        about: user.about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  setUserAvatar(link) {\n    return fetch(`${this._urlServer}/${this._idCohort}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  postCard(card) {\n    return fetch(`${this._urlServer}/${this._idCohort}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  changeLike(card, isLikedStatus) {\n    return fetch(\n      `${this._urlServer}/${this._idCohort}/cards/likes/${card._id}`,\n      {\n        method: !isLikedStatus ? \"DELETE\" : \"PUT\",\n        headers: {\n          authorization: this._token,\n        },\n      }\n    ).then(this._checkResponse);\n  }\n\n  getCountsOfLikes(card) {\n    return fetch(\n      `${this._urlServer}/${this._idCohort}/cards/likes/${card._id}`,\n      {\n        headers: {\n          authorization: this._token,\n        },\n      }\n    ).then(this._checkResponse);\n  }\n\n  deleteCard(card) {\n    return fetch(`${this._urlServer}/${this._idCohort}/cards/${card._id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api(settingsApi);\nexport default api;\n","const settingsApi = {\n  urlServer: \"https://mesto.nomoreparties.co/v1\",\n  idCohort: \"cohort-22\",\n  token: \"9c2455fb-83bc-4950-8d50-36e17c0acd69\",\n};\n\nexport { settingsApi };\n","import React, { useState, useEffect } from \"react\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeleteCardPopup from \"./DeleteCardPopup\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport api from \"../utils/api.js\";\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({});\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [cardForDelete, setCardForDelete] = useState({});\n  const [isLoadingSetUserInfo, setIsLoadingSetUserInfo] = useState(false);\n  const [isLoadingAvatarUpdate, setIsLoadingAvatarUpdate] = useState(false);\n  const [isLoadingAddPlaceSubmit, setIsLoadingAddPlaceSubmit] = useState(false);\n  const [isLoadingDeleteCard, setIsLoadingDeleteCard] = useState(false);\n\n  useEffect(() => {\n    api\n      .getInitialData()\n      .then(([userData, cardsData]) => {\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleUpdateUser(user) {\n    setIsLoadingSetUserInfo(true);\n    api\n      .setUserInfo(user)\n      .then((user) => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingSetUserInfo(false);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setIsLoadingAvatarUpdate(true);\n    api\n      .setUserAvatar(avatar)\n      .then((avatar) => {\n        setCurrentUser(avatar);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingAvatarUpdate(false);\n      });\n  }\n\n  function handleAddCard(card) {\n    setIsLoadingAddPlaceSubmit(true);\n    api\n      .postCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingAddPlaceSubmit(false);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLike(card, !isLiked)\n      .then((newCard) => {\n        setCards((cards) =>\n          cards.map((currentCard) =>\n            currentCard._id === card._id ? newCard : currentCard\n          )\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    setIsLoadingDeleteCard(true);\n    api\n      .deleteCard(card)\n      .then(() => {\n        setCards(cards.filter((cardDelete) => cardDelete._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingDeleteCard(false);\n      });\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function confirmCardDelete(card) {\n    setCardForDelete(card);\n    setIsDeleteCardPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setSelectedCard({});\n    setCardForDelete({});\n  }\n\n  useEffect(() => {\n    function handleEscapeClick(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener(\"keyup\", handleEscapeClick);\n\n    return () => {\n      document.removeEventListener(\"keyup\", handleEscapeClick);\n    };\n  }, []);\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          cards={cards}\n          editProfile={handleEditProfileClick}\n          editAvatar={handleEditAvatarClick}\n          addPlace={handleAddPlaceClick}\n          onClickCard={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={confirmCardDelete}\n        />\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          currentUser={currentUser}\n          isLoadingData={isLoadingSetUserInfo}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddCard}\n          isLoadingData={isLoadingAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoadingData={isLoadingAvatarUpdate}\n        />\n\n        <DeleteCardPopup\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          card={cardForDelete}\n          onSubmitDelete={handleCardDelete}\n          isLoadingData={isLoadingDeleteCard}\n        />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}